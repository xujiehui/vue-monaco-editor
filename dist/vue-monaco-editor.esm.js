import*as e from"monaco-editor";function t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var n={props:{mode:{type:String,default:"code"},original:String,value:{type:String,default:"// code"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},language:{type:String,default:"javascript"},theme:{type:String,default:"vs-dark"},lineNumbers:{type:String,default:"on"},readOnly:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{editor:null}},computed:{isDiff:function(){return"diff"===this.mode},baseOptions:function(){return{value:this.value,language:this.language,theme:this.theme,lineNumbers:this.lineNumbers,readOnly:this.readOnly}}},wathch:{language:function(){if(this.editor)if(this.isDiff){var t=this.editor.getModel(),i=t.original,n=t.modified;e.editor.setModelLanguage(i,this.language),e.editor.setModelLanguage(n,this.language)}else e.editor.setModelLanguage(this.editor.getModel(),this.language)},theme:function(){e.editor.setTheme(this.theme)},options:{handle:function(){this.editor&&this.editor.updateOptions(this.options)},deep:!0}},methods:{initEditor:function(){var n=this.isDiff,r=this.value,o=this.language,a=this.theme,d=this.lineNumbers,u=this.readOnly;this.editor=e.editor[n?"createDiffEditor":"create"](this.$el,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(i){t(e,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({value:r,language:o,theme:a,lineNumbers:d,readOnly:u},this.options)),n?this.diffHandle():this.bindEvent()},diffHandle:function(){var t=this.original,i=this.value,n=this.language,r=e.editor.createModel(t,n),o=e.editor.createModel(i,n);this.editor.setModel({original:r,modified:o})},bindEvent:function(){var e=this;this.editor.onDidChangeModelContent((function(t){e.$emit("input",e.editor.getValue()),e.$emit("change",t)}))}},render:function(e){return e("div",{style:{width:this.width,height:this.height}})},mounted:function(){this.initEditor()}},r=function(e,t){e.component("vue-monaco-editor",n)},o={install:r,monaco:e,VueMonacoEditor:n};export default o;export{n as VueMonacoEditor,r as install};
